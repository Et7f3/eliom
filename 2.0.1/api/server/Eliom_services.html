<html><head><title>Module Eliom_services </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="text/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href="../.././../../" class="ocsimore_phrasing_link"><img src="../.././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Eliom</p><div class="mainmenu"><p class="mainmenu-home"><a href="../.././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href="../.././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p class="mainmenu-current"><a href="../.././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p><a href="../.././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p><a href="../.././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href="../.././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href="../.././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href="../.././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href="../.././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href="../.././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href="../.././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href="../.././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href="../.././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href="../.././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href="../.././../../deriving/" class="ocsimore_phrasing_link">deriving</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href="../.././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href="../.././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href="../.././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href="../.././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href="../.././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href="../.././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Server API</h1><h2><a href="../.././api/server/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2><a href="../.././api/server/Eliom_pervasives.XHTML.M" class="ocsimore_phrasing_link">Eliom_pervasives.XHTML.M</a></h2><h2><a href="../.././api/server/Eliom_pervasives.HTML5.M" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5.M</a></h2><h2>Services creation and manipulation</h2><h3><a href="../.././api/server/Eliom_output" class="ocsimore_phrasing_link">Eliom_output</a></h3><h3><a href="../.././api/server/Eliom_parameters" class="ocsimore_phrasing_link">Eliom_parameters</a></h3><h3><a href="../.././api/server/Eliom_references" class="ocsimore_phrasing_link">Eliom_references</a></h3><h3><a href="../.././api/server/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="../.././api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Extensions</h2><h3><a href="../.././api/server/Eliom_atom" class="ocsimore_phrasing_link">Eliom_atom</a></h3><h3><a href="../.././api/server/Eliom_openid" class="ocsimore_phrasing_link">Eliom_openid</a></h3><h2>Index</h2><h3> <span><a href="../.././api/server/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/server/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/server/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/server/index_module_types">Index of module types</a></span></h3><h1>Eliom client API</h1><h2><a href="../.././api/client/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2><a href="../.././api/client/Eliom_pervasives.HTML5.M" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5.M</a></h2><h2>Services creation and manipulation</h2><h3><a href="../.././api/client/Eliom_output.Html5" class="ocsimore_phrasing_link">Eliom_output.Html5</a></h3><h3><a href="../.././api/client/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h3><a href="../.././api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h2>Index</h2><h3> <span><a href="../.././api/client/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/client/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/client/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/client/index_module_types">Index of module types</a></span></h3></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value="../.././../1.1.0/api/server/Eliom_services">1.1.0</option><option value="../.././../1.2.2/api/server/Eliom_services">1.2.2</option><option value="../.././../1.3.4/api/server/Eliom_services">1.3.4</option><option value="../.././../2.0/api/server/Eliom_services">2.0</option><option value="../.././../2.0.1/api/server/Eliom_services" selected="selected">2.0.1</option><option value="../.././../2.0.2/api/server/Eliom_services">2.0.2</option><option value="../.././../2.1.1/api/server/Eliom_services">2.1.1</option><option value="../.././../2.2.2/api/server/Eliom_services">2.2.2</option><option value="../.././../3.0/api/server/Eliom_services">3.0</option><option value="../.././../4.0/api/server/Eliom_services">4.0</option><option value="../.././../4.1/api/server/Eliom_services">4.1</option><option value="../.././../4.2/api/server/Eliom_services">4.2</option><option value="../.././../5.0/api/server/Eliom_services">5.0</option><option value="../.././../6.0/api/server/Eliom_services">6.0</option><option value="../.././../6.1/api/server/Eliom_services">6.1</option><option value="../.././../6.2/api/server/Eliom_services">6.2</option><option value="../.././../6.3/api/server/Eliom_services">6.3</option><option value="../.././../6.4/api/server/Eliom_services">6.4</option><option value="../.././../6.5/api/server/Eliom_services">6.5</option><option value="../.././../dev/api/server/Eliom_services">dev</option></select><nav class="how-doctree"><h1>Server API</h1><h2><a href="../.././api/server/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2><a href="../.././api/server/Eliom_pervasives.XHTML.M" class="ocsimore_phrasing_link">Eliom_pervasives.XHTML.M</a></h2><h2><a href="../.././api/server/Eliom_pervasives.HTML5.M" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5.M</a></h2><h2>Services creation and manipulation</h2><h3><a href="../.././api/server/Eliom_output" class="ocsimore_phrasing_link">Eliom_output</a></h3><h3><a href="../.././api/server/Eliom_parameters" class="ocsimore_phrasing_link">Eliom_parameters</a></h3><h3><a href="../.././api/server/Eliom_references" class="ocsimore_phrasing_link">Eliom_references</a></h3><h3><a href="../.././api/server/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="../.././api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Extensions</h2><h3><a href="../.././api/server/Eliom_atom" class="ocsimore_phrasing_link">Eliom_atom</a></h3><h3><a href="../.././api/server/Eliom_openid" class="ocsimore_phrasing_link">Eliom_openid</a></h3><h2>Index</h2><h3> <span><a href="../.././api/server/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/server/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/server/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/server/index_module_types">Index of module types</a></span></h3><h1>Eliom client API</h1><h2><a href="../.././api/client/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2><a href="../.././api/client/Eliom_pervasives.HTML5.M" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5.M</a></h2><h2>Services creation and manipulation</h2><h3><a href="../.././api/client/Eliom_output.Html5" class="ocsimore_phrasing_link">Eliom_output.Html5</a></h3><h3><a href="../.././api/client/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h3><a href="../.././api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h2>Index</h2><h3> <span><a href="../.././api/client/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/client/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/client/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/client/index_module_types">Index of module types</a></span></h3></nav></nav><article class="rightcol"><label class="csw-switch"><input type="checkbox" onchange="location = '.././client/Eliom_services';"/><span class="csw-slider csw-slider-style-round"></span><span class="csw-slider-no">Server version</span><span class="csw-slider-yes">Client version</span></label><h1>Module <span><a href="../.././api/server/Eliom_services">Eliom_services</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Eliom_services</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href="../.././api/server/Eliom_services">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Types, creation and manipulation of Eliom services.<br/>
</p><hr/><pre class="ocsforge_color odocwiki_code" id="EXCEPTIONWrong_session_table_for_CSRF_safe_coservice"><span class="ocsforge_color_keyword">exception</span> <span class="odocwiki_name">Wrong_session_table_for_CSRF_safe_coservice</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEsuff"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">suff</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">[ `WithSuffix | `WithoutSuffix ]</span></pre><div class="odocwiki_info"><h2 id="2_Typesofservices">Types of services <a class="backref" href="#2_Typesofservices">&#182;</a></h2><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="TYPEservcoserv"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">servcoserv</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">[ `Coservice | `Service ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEgetpost"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">getpost</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">[ `Get | `Post ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEattached_service_kind"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">attached_service_kind</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">[ `External | `Internal of <span><a href="../.././api/server/Eliom_services#TYPEservcoserv">servcoserv</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEinternal"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">internal</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">[ `Internal of <span><a href="../.././api/server/Eliom_services#TYPEservcoserv">servcoserv</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEregistrable"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">registrable</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">[ `Registrable | `Unregistrable ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEa_s"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>+'a, +'b<span class="ocsforge_color_delimiter">)</span></span> <span class="odocwiki_name">a_s</span></pre><div class="odocwiki_info"><p>You can call register function only on registrable services<br/></p></div><pre class="ocsforge_color odocwiki_code" id="TYPEna_s"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_type">+'a</span> <span class="odocwiki_name">na_s</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEservice_kind"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">service_kind</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><br/>  [ `Attached of<br/>      <span class="ocsforge_color_delimiter">(</span><span><a href="../.././api/server/Eliom_services#TYPEattached_service_kind">attached_service_kind</a></span>, <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span><span class="ocsforge_color_delimiter">)</span><br/>      <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span><br/>  | `Nonattached of <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span> <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEinternal_service_kind"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">internal_service_kind</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><br/>  [ `Attached of<br/>      <span class="ocsforge_color_delimiter">(</span><span><a href="../.././api/server/Eliom_services#TYPEinternal">internal</a></span>, <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span><span class="ocsforge_color_delimiter">)</span><br/>      <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span><br/>  | `Nonattached of <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span> <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEget_service_kind"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">get_service_kind</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><br/>  [ `Attached of<br/>      <span class="ocsforge_color_delimiter">(</span><span><a href="../.././api/server/Eliom_services#TYPEattached_service_kind">attached_service_kind</a></span>, [ `Get ]<span class="ocsforge_color_delimiter">)</span><br/>      <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span><br/>  | `Nonattached of [ `Get ] <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEpost_service_kind"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">post_service_kind</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><br/>  [ `Attached of<br/>      <span class="ocsforge_color_delimiter">(</span><span><a href="../.././api/server/Eliom_services#TYPEattached_service_kind">attached_service_kind</a></span>, [ `Post ]<span class="ocsforge_color_delimiter">)</span><br/>      <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span><br/>  | `Nonattached of [ `Post ] <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEattached"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">attached</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><br/>  [ `Attached of<br/>      <span class="ocsforge_color_delimiter">(</span><span><a href="../.././api/server/Eliom_services#TYPEattached_service_kind">attached_service_kind</a></span>, <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span><span class="ocsforge_color_delimiter">)</span><br/>      <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEnonattached"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">nonattached</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">[ `Nonattached of <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span> <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEservice"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>'a, 'b, +'c, +'d, +'e, +'f, +'g, +'h<span class="ocsforge_color_delimiter">)</span></span> <span class="odocwiki_name">service</span></pre><pre class="ocsforge_color odocwiki_code" id="VALget_get_or_post"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_get_or_post</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a, 'b,<br/>   [&lt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span><span><a href="../.././api/server/Eliom_services#TYPEattached_service_kind">attached_service_kind</a></span>,<br/>         [&lt; <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span> ]<span class="ocsforge_color_delimiter">)</span><br/>        <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span><br/>    | `Nonattached of [&lt; <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span> ] <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   'c, 'd, 'e, 'f, 'g<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a href="../.././api/server/Eliom_services#TYPEgetpost">getpost</a></span></span></pre><div class="odocwiki_info"><p>Type of services.* <span class="odocwiki_inlinecode">'get</span> is the type of GET parameters
</p><ul><li> <span class="odocwiki_inlinecode">'post</span> is the type of POST parameters
</li><li> <span class="odocwiki_inlinecode">'kind</span> is a subtype of <span><a href="../.././api/server/Eliom_services#TYPEservice_kind">Eliom_services.service_kind</a></span>
(attached or non-attached
service, internal or external, GET only or with POST parameters)
</li><li> <span class="odocwiki_inlinecode">'tipo</span> is a phantom type stating the kind of parameters it uses
(suffix or not)
</li><li> <span class="odocwiki_inlinecode">'getnames</span> is the type of GET parameters names
</li><li> <span class="odocwiki_inlinecode">'postnames</span> is the type of POST parameters names
</li><li> <span class="odocwiki_inlinecode">'registrable</span> is a phantom type,
subtype of <span><a href="../.././api/server/Eliom_services#TYPEregistrable">Eliom_services.registrable</a></span>,
telling if it is possible to register a handler on this service.
</li><li> <span class="odocwiki_inlinecode">'return</span> is an information on what the service returns
</li></ul><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALregister_eliom_module"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">register_eliom_module</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><h2 id="2_Registrationofnamedmodules">Registration of named modules <a class="backref" href="#2_Registrationofnamedmodules">&#182;</a></h2><p><br/>
</p><p>This functionality allows to register module initialization functions
for Eliom modules which will be executed when the corresponding module
is initialized in <span class="odocwiki_inlinecode">ocsigen.conf</span>.<br/></p></div><p><br/>
This function is used to specify the initialization function
for Eliom modules linked dynamic or statically into the server.
<span class="odocwiki_inlinecode">register_eliom_module name f</span> registers the initialization function <span class="odocwiki_inlinecode">f</span> for
module <span class="odocwiki_inlinecode">name</span>. The <span class="odocwiki_inlinecode">f</span> function will be invoked when the module is
initialized in the configuration file using
<span class="odocwiki_inlinecode">&lt;eliom name=&quot;name&quot;&gt; ... &lt;/eliom&gt;</span>, which
is equivalent to <span class="odocwiki_inlinecode">&lt;eliom module=&quot;name.cmo&quot;&gt; ... &lt;/eliom&gt;</span> with the exception
that it does not load the module using <span class="odocwiki_inlinecode">Dynlink</span>.<br/>
<br/>
</p><h2 id="2_Definitionsofservices">Definitions of services <a class="backref" href="#2_Definitionsofservices">&#182;</a></h2><p><br/>
</p><p><em>Warning: These functions must be called when the site
information is available, that is, either
during a request or during the initialisation phase of the site.
Otherwise, it will raise the exception
<span><a href="../.././api/server/Eliom_common#EXCEPTIONEliom_site_information_not_available">Eliom_common.Eliom_site_information_not_available</a></span>.
If you are using static linking, you must delay the call to this function
until the configuration file is read, using
<span><a href="../.././api/server/Eliom_services#VALregister_eliom_module">Eliom_services.register_eliom_module</a></span>. Otherwise you will also get
this exception.</em><br/>
</p><pre class="ocsforge_color odocwiki_code" id="VALservice"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">path:</span><span><a href="../.././api/server/Eliom_pervasives.Url#TYPEpath">Eliom_pervasives.Url.path</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?priority:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">get_params:</span><span class="ocsforge_color_delimiter">(</span>'a, [&lt; <span><a href="../.././api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c<span class="ocsforge_color_delimiter">)</span><br/>             <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, unit,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [&gt; `Service ] ], [&gt; `Get ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   'b, 'c, unit, [&gt; `Registrable ], 'd<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><h3 id="3_Mainservices">Main services <a class="backref" href="#3_Mainservices">&#182;</a></h3><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALexternal_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">external_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">prefix:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">path:</span><span><a href="../.././api/server/Eliom_pervasives.Url#TYPEpath">Eliom_pervasives.Url.path</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">get_params:</span><span class="ocsforge_color_delimiter">(</span>'a, [&lt; <span><a href="../.././api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c<span class="ocsforge_color_delimiter">)</span><br/>             <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, unit,<br/>   [&gt; `Attached of <span class="ocsforge_color_delimiter">(</span>[&gt; `External ], [&gt; `Get ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ], 'b,<br/>   'c, unit, [&gt; `Unregistrable ], 'd<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">service ~path ~get_params ()</span> creates a
<span><a href="../.././api/server/Eliom_services#VALservice">Eliom_services.service</a></span> associated
to the path <span class="odocwiki_inlinecode">path</span>, taking the GET parameters <span class="odocwiki_inlinecode">get_params</span>.<br/>
</p><p>If <span class="odocwiki_inlinecode">~https</span> is true, all links towards that service will use https.<br/>
</p><p>The default priority is 0. If you want the service to be tried before
(resp after)
the other ones at the same path, put a higher (resp. lower) priority.<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALexternal_post_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">external_post_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">prefix:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">path:</span><span><a href="../.././api/server/Eliom_pervasives.Url#TYPEpath">Eliom_pervasives.Url.path</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">get_params:</span><span class="ocsforge_color_delimiter">(</span>'a, [&lt; <span><a href="../.././api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c<span class="ocsforge_color_delimiter">)</span><br/>             <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">post_params:</span><span class="ocsforge_color_delimiter">(</span>'d, [ `WithoutSuffix ], 'e<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, 'd,<br/>   [&gt; `Attached of <span class="ocsforge_color_delimiter">(</span>[&gt; `External ], [&gt; `Post ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   'b, 'c, 'e, [&gt; `Unregistrable ], 'f<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>Creates a service for an external web site, that will use GET method.
This allows to creates links or forms towards other Web sites using
Eliom's syntax.<br/>
</p><p>The parameter labelled <span class="odocwiki_inlinecode">~path</span> is the URL path, and each element of
the list will be URL-encoded.<br/>
</p><p>The parameter labelled <span class="odocwiki_inlinecode">~prefix</span> contains all what you want to put before
the path. It usually starts with &quot;http://&quot; plus
the name of the server. The whole URL is constructed from the prefix,
the path and parameters. The prefix is not encoded.
An empty prefix can be used to make a link to another site of the same
server.<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALpost_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">post_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">fallback:</span><span class="ocsforge_color_delimiter">(</span>'a, unit,<br/>            [ `Attached of<br/>                <span class="ocsforge_color_delimiter">(</span>[ `Internal of [ `Coservice | `Service ] ], [ `Get ]<span class="ocsforge_color_delimiter">)</span><br/>                <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>            [&lt; <span><a href="../.././api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c, unit, [&lt; `Registrable ],<br/>            'd<span class="ocsforge_color_delimiter">)</span><br/>           <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?priority:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">post_params:</span><span class="ocsforge_color_delimiter">(</span>'e, [ `WithoutSuffix ], 'f<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, 'e,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [ `Coservice | `Service ] ], [&gt; `Post ]<span class="ocsforge_color_delimiter">)</span><br/>        <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   'b, 'c, 'f, [&gt; `Registrable ], 'g<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>Same, with POST method.<br/></p></div><p><br/>
Creates a service that takes POST parameters.
<span class="odocwiki_inlinecode">fallback</span> is a service without POST parameters.
You can't create an service with POST parameters
if the same service does not exist without POST parameters.
Thus, the user cannot put a bookmark on a page that does not exist.<br/>
</p><pre class="ocsforge_color odocwiki_code" id="VALcoservice"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">coservice</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_safe:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_scope:</span>[&lt; <span><a href="../.././api/server/Eliom_common#TYPEuser_scope">Eliom_common.user_scope</a></span> &gt; `Session ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_secure:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?max_use:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?timeout:</span>float <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">fallback:</span><span class="ocsforge_color_delimiter">(</span>unit, unit,<br/>            [ `Attached of<br/>                <span class="ocsforge_color_delimiter">(</span>[ `Internal of [ `Service ] ], [ `Get ]<span class="ocsforge_color_delimiter">)</span><br/>                <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>            [ `WithoutSuffix ], unit, unit,<br/>            [&lt; <span><a href="../.././api/server/Eliom_services#TYPEregistrable">registrable</a></span> ], 'a<span class="ocsforge_color_delimiter">)</span><br/>           <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">get_params:</span><span class="ocsforge_color_delimiter">(</span>'b, [ `WithoutSuffix ], 'c<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'b, unit,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [&gt; `Coservice ] ], [&gt; `Get ]<span class="ocsforge_color_delimiter">)</span><br/>        <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   [ `WithoutSuffix ], 'c, unit, [&gt; `Registrable ], 'd<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><h3 id="3_Attachedcoservices">Attached coservices <a class="backref" href="#3_Attachedcoservices">&#182;</a></h3><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALpost_coservice"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">post_coservice</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_safe:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_scope:</span>[&lt; <span><a href="../.././api/server/Eliom_common#TYPEuser_scope">Eliom_common.user_scope</a></span> &gt; `Session ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_secure:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?max_use:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?timeout:</span>float <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">fallback:</span><span class="ocsforge_color_delimiter">(</span>'a, unit,<br/>            [ `Attached of<br/>                <span class="ocsforge_color_delimiter">(</span>[ `Internal of [&lt; `Coservice | `Service ] ], [ `Get ]<span class="ocsforge_color_delimiter">)</span><br/>                <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>            [&lt; <span><a href="../.././api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c, unit, [&lt; `Registrable ],<br/>            'd<span class="ocsforge_color_delimiter">)</span><br/>           <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">post_params:</span><span class="ocsforge_color_delimiter">(</span>'e, [ `WithoutSuffix ], 'f<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, 'e,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [&gt; `Coservice ] ], [&gt; `Post ]<span class="ocsforge_color_delimiter">)</span><br/>        <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   'b, 'c, 'f, [&gt; `Registrable ], 'g<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>Creates an attached coservice. A coservice is another version of an
already existing main service, where you can register another handler.
The two versions are automatically distinguished using an extra parameter
added automatically by Eliom.
It allows to have several links towards the same page,
that will behave differently, or to create services dedicated to one user.
Coservices can be named if the <span class="odocwiki_inlinecode">?name</span> optional parameter
is present or anonymous (in that case, a coservice number will be
generated).<br/>
</p><p>See the programmer's manual for more informations.<br/>
</p><p>The <span class="odocwiki_inlinecode">~timeout</span> parameter specifies a timeout (in seconds)
after which the coservice will disappear. This amount of time is
computed from the creation or from the last call to the service.
Default: no timeout.<br/>
</p><p>The <span class="odocwiki_inlinecode">~max_use</span> parameter specifies that the service can be used only
a fixed number of times. Default: no limitation.<br/>
</p><p>If <span class="odocwiki_inlinecode">~csrf_safe</span> is <span class="odocwiki_inlinecode">true</span>,
it will create a &quot;CSRF-safe&quot; service (the default is <span class="odocwiki_inlinecode">false</span>).
(In that case <span class="odocwiki_inlinecode">~name</span> is ignored).
It means that the registration of the service will not actually
take place when <span class="odocwiki_inlinecode">register</span> is called, but delayed and performed
each time a form is created. This allows to protect against CSRF attacks,
and should be use with a short timeout (and max_use).
(And you should probably use POST coservices in that case).
In that case, you can register the CSRF safe service either in the global
service table or in the session service table. But the actual registration,
that will occure when creating a link or a form, will always take
place in a session service table. This table is specified by the
<span class="odocwiki_inlinecode">~csrf_scope</span> and <span class="odocwiki_inlinecode">~csrf_secure</span> parameters
(that correspond to <span class="odocwiki_inlinecode">~scope</span> and <span class="odocwiki_inlinecode">~secure</span> for the delayed
registration); it is the default session table if they are absent.
Parameters <span class="odocwiki_inlinecode">?scope</span> and <span class="odocwiki_inlinecode">?secure</span> of <span class="odocwiki_inlinecode">register</span>
must have the same values as the one declared while creating the
CSRF safe coservice, otherwise the registration will fail
with .<br/></p></div><p><br/>
Creates a coservice with POST parameters<br/>
</p><pre class="ocsforge_color odocwiki_code" id="VALcoservice'"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">coservice'</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_safe:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_scope:</span>[&lt; <span><a href="../.././api/server/Eliom_common#TYPEuser_scope">Eliom_common.user_scope</a></span> &gt; `Session ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_secure:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?max_use:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?timeout:</span>float <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">get_params:</span><span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, unit, [&gt; `Nonattached of [&gt; `Get ] <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   [ `WithoutSuffix ], 'b, unit, [&gt; `Registrable ], 'c<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><h3 id="3_Nonattachedcoservices">Non attached coservices <a class="backref" href="#3_Nonattachedcoservices">&#182;</a></h3><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALpost_coservice'"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">post_coservice'</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_safe:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_scope:</span>[&lt; <span><a href="../.././api/server/Eliom_common#TYPEuser_scope">Eliom_common.user_scope</a></span> &gt; `Session ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?csrf_secure:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?max_use:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?timeout:</span>float <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">post_params:</span><span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>unit, 'a, [&gt; `Nonattached of [&gt; `Post ] <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   [ `WithoutSuffix ], unit, 'b, [&gt; `Registrable ], 'c<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>Creates a non-attached coservice, that is, services that do not
correspond to a path in the URL. They are identified only by a
parameter, whatever be the path.
Links towards such services will not change the URL,
just add extra parameters.
Non-attached coservices can be named if the <span class="odocwiki_inlinecode">?name</span> optional parameter
is present or anonymous (in that case, a coservice number will be
generated).
See the programmer's manual for more informations.<br/></p></div><p><br/>
Creates a non attached coservice with POST parameters.
If the optional parameter <span class="odocwiki_inlinecode">~keep_get_na_params</span> is <span class="odocwiki_inlinecode">false</span>,
GET non-attached parameters won't be kept in the URL (if any) when you
create a POST form to this coservice.
Default is <span class="odocwiki_inlinecode">true</span>.<br/>
<br/>
</p><h2 id="2_Predefinedservices">Predefined services <a class="backref" href="#2_Predefinedservices">&#182;</a></h2><p><br/>
</p><pre class="ocsforge_color odocwiki_code" id="VALstatic_dir"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">static_dir</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string list, unit,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [&gt; `Service ] ], [&gt; `Get ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   [ `WithSuffix ], [ `One of string list ] <span><a href="../.././api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span>,<br/>   unit, [&gt; `Unregistrable ], 'a<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><h3 id="3_Staticfiles">Static files <a class="backref" href="#3_Staticfiles">&#182;</a></h3><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALhttps_static_dir"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">https_static_dir</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string list, unit,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [&gt; `Service ] ], [&gt; `Get ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   [ `WithSuffix ], [ `One of string list ] <span><a href="../.././api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span>,<br/>   unit, [&gt; `Unregistrable ], 'a<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>A predefined service
that correponds to the directory where static pages are
(if the staticmod extension is used).
This directory is chosen in the configuration file.
This service takes the name of the static file as a parameter
(a string list, slash separated).<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALstatic_dir_with_params"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">static_dir_with_params</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">get_params:</span><span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string list * 'a, unit,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [&gt; `Service ] ], [&gt; `Get ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   [ `WithSuffix ],<br/>   [ `One of string list ] <span><a href="../.././api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span> * 'b, unit,<br/>   [&gt; `Unregistrable ], 'c<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>The same, but forcing https<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALhttps_static_dir_with_params"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">https_static_dir_with_params</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">get_params:</span><span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string list * 'a, unit,<br/>   [&gt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of [&gt; `Service ] ], [&gt; `Get ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/>   [ `WithSuffix ],<br/>   [ `One of string list ] <span><a href="../.././api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span> * 'b, unit,<br/>   [&gt; `Unregistrable ], 'c<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>Like <span class="odocwiki_inlinecode">static_dir</span>, but allows to put GET parameters<br/></p></div><p><br/>
The same, but forcing https<br/>
</p><pre class="ocsforge_color odocwiki_code" id="VALvoid_coservice'"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">void_coservice'</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>unit, unit, [&gt; `Nonattached of 'a <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   [ `WithoutSuffix ], unit, unit, [&gt; `Unregistrable ], 'b<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><h3 id="3_Voidnonattachedcoservices">Void non-attached coservices <a class="backref" href="#3_Voidnonattachedcoservices">&#182;</a></h3><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALhttps_void_coservice'"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">https_void_coservice'</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>unit, unit, [&gt; `Nonattached of 'a <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   [ `WithoutSuffix ], unit, unit, [&gt; `Unregistrable ], 'b<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>A predefined non-attached action with special behaviour:
it has no parameter at all, even non-attached parameters.
Use it if you want to make a link to the current page without non-attached
parameters.
It is almost equivalent to a POST non-attached service without POST
parameters, on which you register an action that does nothing,
but you can use it with &lt;a&gt; links, not only forms.
It does not keep non attached GET parameters.<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALvoid_hidden_coservice'"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">void_hidden_coservice'</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>unit, unit, [&gt; `Nonattached of 'a <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   [ `WithoutSuffix ], unit, unit, [&gt; `Unregistrable ], 'b<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>The same, but forcing https.<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALhttps_void_hidden_coservice'"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">https_void_hidden_coservice'</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>unit, unit, [&gt; `Nonattached of 'a <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   [ `WithoutSuffix ], unit, unit, [&gt; `Unregistrable ], 'b<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>Same as <span class="odocwiki_inlinecode">void_coservice'</span> but keeps non attached GET parameters.<br/></p></div><p><br/>
The same, but forcing https.<br/>
</p><pre class="ocsforge_color odocwiki_code" id="VALpreapply"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">preapply</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, [&gt; `Attached of <span class="ocsforge_color_delimiter">(</span>'d, 'e<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span> ] as 'c,<br/>           [&lt; <span><a href="../.././api/server/Eliom_services#TYPEsuff">suff</a></span> ], 'f, 'g, 'h, 'i<span class="ocsforge_color_delimiter">)</span><br/>          <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>unit, 'b, 'c, [ `WithoutSuffix ], unit, 'g, [&gt; `Unregistrable ], 'i<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><h2 id="2_Miscellaneous">Miscellaneous <a class="backref" href="#2_Miscellaneous">&#182;</a></h2><p><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALadd_non_localized_get_parameters"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_non_localized_get_parameters</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">params:</span><span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span><br/>         <span><a href="../.././api/server/Eliom_parameters#TYPEnon_localized_params">Eliom_parameters.non_localized_params</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'c, 'd, 'e, 'f, 'g, 'h, 'i, 'j<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'c * 'a, 'd, 'e, 'f, 'g * 'b, 'h, 'i, 'j<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>creates a new service by preapplying a service to GET parameters.
It is not possible to register a handler on an preapplied service.
Preapplied services may be used in links or as fallbacks for coservices<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALadd_non_localized_post_parameters"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_non_localized_post_parameters</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">params:</span><span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span><br/>         <span><a href="../.././api/server/Eliom_parameters#TYPEnon_localized_params">Eliom_parameters.non_localized_params</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'c, 'd, 'e, 'f, 'g, 'h, 'i, 'j<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'c, 'd * 'a, 'e, 'f, 'g, 'h * 'b, 'i, 'j<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span></span></pre><div class="odocwiki_info"><p>Adds non localized GET parameters to a service<br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALunregister"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">unregister</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?scope:</span>[&lt; <span><a href="../.././api/server/Eliom_common#TYPEscope">Eliom_common.scope</a></span> ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?secure:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, 'b,<br/>   [&lt; `Attached of<br/>        <span class="ocsforge_color_delimiter">(</span>[&gt; `Internal of 'c ], [&lt; `Get | `Post ]<span class="ocsforge_color_delimiter">)</span> <span><a href="../.././api/server/Eliom_services#TYPEa_s">a_s</a></span><br/>    | `Nonattached of 'd <span><a href="../.././api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/>   'e, 'f, 'g, 'h, 'i<span class="ocsforge_color_delimiter">)</span><br/>  <span><a href="../.././api/server/Eliom_services#TYPEservice">service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Adds non localized POST parameters to a service<br/></p></div><p><br/>
Unregister a service (by default from the public table)<br/>
<br/>
</p><h2 id="2_Eliomapplicationservices">Eliom application services <a class="backref" href="#2_Eliomapplicationservices">&#182;</a></h2><p><br/>
</p><pre class="ocsforge_color odocwiki_code" id="VALonload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href="../.././api/server/Eliom_pervasives.XML#TYPEevent">Eliom_pervasives.XML.event</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>This function will register a function that will be executed on
client side once the <span class="odocwiki_inlinecode">Eliom_appl</span> page is loaded.
Use it with Eliom's syntax extension for client side code.
For example: <span class="odocwiki_inlinecode">set_onload ~sp {{ ... }}</span><br/></p></div><pre class="ocsforge_color odocwiki_code" id="VALonunload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onunload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a href="../.././api/server/Eliom_pervasives.XML#TYPEevent">Eliom_pervasives.XML.event</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>This function will register a function that will be executed on
client side when leaving current <span class="odocwiki_inlinecode">Eliom_appl</span> page.<br/></p></div></article></div></div></body></html>
